<div class="max-w-7xl mx-auto p-4">
  <div class="flex justify-between items-center mb-6">
    <h2 class="text-4xl text-white font-bold">Blog Posts</h2>
    <button
      class="bg-green-500 text-white py-2 px-4 rounded"
      (click)="openCreateModal()"
    >
      Create Post
    </button>
  </div>
  <div class="flex flex-wrap gap-4">
    <div
      *ngFor="let post of posts$ | async"
      class="shadow-lg bg-gray-900 p-4 mb-4 rounded-lg cursor-pointer"
    >
      <h3 class="text-2xl text-white font-semibold mb-5">{{ post.title }}</h3>
      <p class="text-sm text-white mb-2">{{ post.content }}</p>
      <p class="text-gray-500 text-xs">
        By {{ post.author }} on {{ post.timestamp?.toDate() | date : "short" }}
      </p>

      <div class="space-x-8 mt-6">
        <button class="text-blue-500" (click)="editPost(post)">Edit</button>
        <button class="text-red-500" (click)="deletePost(post.id)">
          Delete
        </button>
        <button class="text-teal-700" (click)="goToPostDetails(post.id)">
          View More
        </button>
      </div>
    </div>
  </div>
</div>

<app-modal
  *ngIf="isModalOpen"
  [showModal]="isModalOpen"
  [editingPostId]="editingPost?.id"
  [title]="editingPost?.title"
  [content]="editingPost?.content"
  (close)="closeModal()"
>
</app-modal>
